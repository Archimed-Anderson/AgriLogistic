# AgroLogistic Web App - Environment Variables
# Copy this file to .env.local and fill in your values

# API Configuration
# URL de l'API Gateway ou du service d'authentification
# Pour le développement local avec API Gateway (Kong)
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1

# Alternative: URL directe du service d'authentification (si API Gateway n'est pas utilisé)
# NEXT_PUBLIC_API_URL=http://localhost:3001/api/v1

# War Room - WebSocket temps réel (incident-service)
# Connexion Socket.io namespace /war-room - incidents & métriques live
NEXT_PUBLIC_WAR_ROOM_WS_URL=http://localhost:3015

# Admin API - Quick Actions, Audit, Workflows (admin-service)
# Si non défini, utilise NEXT_PUBLIC_API_URL/admin via Kong
# Pour appel direct à admin-service (port 5005):
# NEXT_PUBLIC_ADMIN_API_URL=http://localhost:5005

# Digital Twin - Couche précipitations (optionnel)
# Si défini, utilise OpenWeatherMap. Sinon, RainViewer (gratuit) est utilisé.
# NEXT_PUBLIC_OPENWEATHERMAP_API_KEY=your_openweathermap_api_key

# Digital Twin - Moteur carte (optionnel)
# Si true, utilise MapLibre GL JS (prêt pour tuiles NDVI réelles). Sinon Leaflet.
# NEXT_PUBLIC_DIGITAL_TWIN_USE_MAPLIBRE=false

# Productions - API (optionnel)
# URL API productions/irrigation. Par défaut via Kong /api/v1
# NEXT_PUBLIC_PRODUCTIONS_API_URL=http://localhost:8000/api/v1

# Note: Les variables d'environnement Next.js doivent être préfixées par NEXT_PUBLIC_
# pour être accessibles côté client.

# --- BETTER AUTH CONFIGURATION ---
# Database connection URL (PostgreSQL) - used by Better Auth for user, session, account tables
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# Run "npx @better-auth/cli@latest migrate" in apps/web-app to create tables.
DATABASE_URL=postgresql://AgriLogistic:AgriLogistic_secure_2026@localhost:5435/AgriLogistic

# Better Auth Base URL - URL of your Next.js app (callbacks, redirects)
# Use BETTER_AUTH_URL or NEXTAUTH_URL (auth.ts reads NEXTAUTH_URL first)
BETTER_AUTH_URL=http://localhost:3000
NEXTAUTH_URL=http://localhost:3000

# Better Auth Secret - required for signing sessions (min 32 chars). Generate: openssl rand -base64 32
BETTER_AUTH_SECRET=your_generated_secret_here

# Performance - Accès rapide (TEST)
# Délai simulé en ms (défaut: 250). Configuré dans apps/web-app/src/context/AuthContext.tsx
NEXT_PUBLIC_DEV_LOGIN_DELAY_MS=250

# Social Providers - Google OAuth
# 1. Create a project at https://console.cloud.google.com/
# 2. APIs & Services > Credentials > Create OAuth 2.0 Client ID (Web application)
# 3. Authorized redirect URI: {NEXTAUTH_URL}/api/auth/callback/google (e.g. http://localhost:3000/api/auth/callback/google)
# 4. Copy Client ID and Client Secret here. Si absents ou placeholders : Google est désactivé (dégradation gracieuse, pas d'erreur serveur).
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Social Providers - Apple
# Obtenez ces identifiants sur https://developer.apple.com/
APPLE_CLIENT_ID=your_apple_client_id
APPLE_CLIENT_SECRET=your_apple_client_secret
