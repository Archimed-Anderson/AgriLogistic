groups:
- name: AgroDeepAlerts
  rules:
  - alert: ServiceDown
    expr: up == 0
    for: 1m
    labels:
      severity: critical
    annotations:
      summary: "Service {{ $labels.instance }} down"
      description: "Service {{ $labels.instance }} has been down for more than 1 minute."

  - alert: HighLatency
    expr: http_request_duration_seconds_bucket{le="1"} > 0.5
    for: 5m
    labels:
      severity: warning
    annotations:
      summary: "High Latency on {{ $labels.instance }}"
      description: "P95 Latency remains above 500ms for 5 minutes."

  - alert: LowUptime
    expr: avg_over_time(up[1h]) < 0.99
    for: 5m
    labels:
      severity: critical
    annotations:
      summary: "Low Uptime on {{ $labels.instance }}"
      description: "Service availability dropped below 99% in the last hour."

  - alert: HighErrorRate
    expr: rate(http_requests_total{status=~"5.*"}[5m]) / rate(http_requests_total[5m]) > 0.01
    for: 2m
    labels:
      severity: critical
    annotations:
      summary: "High Error Rate on {{ $labels.instance }}"
      description: "Error rate is above 1% for 2 minutes."
